<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Form</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="contact" class="contact-section">
        <h2 class="education-title">Contactez <span class="neon-blue">Moi</span></h2>
        <form id="contact-form" method="GET">
            <div class="form-group">
                <input type="text" id="sendername" name="sendername" required placeholder="Nom">
            </div>
            <div class="form-group">
                <input type="email" id="replyto" name="replyto" required placeholder="Email">
            </div>
            <div class="form-group">
                <input type="text" id="subject" name="subject" required placeholder="Objet">
            </div>
            <div class="form-group">
                <textarea id="message" name="message" required placeholder="Votre message"></textarea>
            </div>
            <button type="submit" class="contact-button">Envoyer</button>
        </form>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        emailjs.init("...");

        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault(); 
            console.log("Form submitted");
            sendMail();
        });

        function sendMail() {
            var params = {
                sendername: document.querySelector("#sendername").value,
                replyto: document.querySelector("#replyto").value,
                subject: document.querySelector("#subject").value,
                message: document.querySelector("#message").value
            };

            console.log("Sending mail with params:", params);

            var serviceID = '...'; 
            var templateID = '...'; 

            emailjs.send(serviceID, templateID, params)
                .then(function(res) {
                    console.log('Email sent successfully!', res.status, res.text);
                    alert('Email Sent Successfully!');
                })
                .catch(function(err) {
                    console.error('Failed to send the message:', err);
                    alert('Failed to send the message. Please try again.');
                });
        }
    </script>
</body>
</html>
